<!-- Animica — Quantum Providers Diagram
     Shows: job submit → provider (gate/annealer) → Bloch sphere/measurements →
     verification & proofs. ViewBox: 960×540, scalable. -->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 960 540" role="img" aria-labelledby="title desc">
  <title id="title">Quantum Providers Flow</title>
  <desc id="desc">User submits a quantum job. Provider runs on gate-model or annealer QPUs. States are prepared on a Bloch sphere and measured to classical bits. Results include transcripts/proofs for on-chain verification.</desc>

  <defs>
    <style>
      .bg     { fill:#0B0F1C; }
      .grid   { stroke:#11182e; }
      .panel  { fill:#0F1426; stroke:#2A3353; }
      .panel2 { fill:#101733; stroke:#2A3353; }
      .node   { fill:#0E1222; stroke:#2E63FF; }
      .node2  { fill:#0E1222; stroke:#16D2FF; }
      .ok     { fill:#0E1222; stroke:#38E38E; }
      .warn   { fill:#0E1222; stroke:#FF4DC1; }
      .txt    { font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif; fill:#E8ECF8; font-size:14px; }
      .muted  { fill:#A7B3CA; font-size:12px; }
      .title  { font-weight:700; font-size:16px; }
      .mono   { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace; }
      .arrow  { stroke:#7B88A3; stroke-width:2; fill:none; marker-end:url(#arr); }
      .arrowb { stroke:#2E63FF;  stroke-width:2; fill:none; marker-end:url(#arrB); }
      .dashed { stroke-dasharray:6 6; }
      .chip   { fill:none; stroke:#2E63FF; }
    </style>

    <pattern id="grid" width="20" height="20" patternUnits="userSpaceOnUse">
      <path d="M20 0H0V20" class="grid" stroke-width="1" fill="none"/>
    </pattern>

    <!-- Arrowheads -->
    <marker id="arr" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="8" markerHeight="8" orient="auto-start-reverse">
      <path d="M0,0 L10,5 L0,10 z" fill="#7B88A3"/>
    </marker>
    <marker id="arrB" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="8" markerHeight="8" orient="auto-start-reverse">
      <path d="M0,0 L10,5 L0,10 z" fill="#2E63FF"/>
    </marker>

    <!-- Ring gradient for Bloch sphere -->
    <radialGradient id="ring" cx="50%" cy="50%" r="50%">
      <stop offset="80%" stop-color="#2E63FF" stop-opacity="0"/>
      <stop offset="98%" stop-color="#2E63FF" stop-opacity="0.9"/>
      <stop offset="100%" stop-color="#FFFFFF" stop-opacity="0.0"/>
    </radialGradient>
  </defs>

  <!-- Background -->
  <rect width="960" height="540" class="bg"/>
  <rect x="0" y="0" width="960" height="540" fill="url(#grid)" opacity="0.25"/>

  <!-- Left: Job Submitter -->
  <g transform="translate(36,56)">
    <rect x="0" y="0" width="250" height="110" rx="12" class="node"/>
    <text x="16" y="30" class="txt title">Quantum Job Submitter</text>
    <text x="16" y="56" class="txt">Contract / Wallet / Orchestrator</text>
    <text x="16" y="82" class="txt mono">submit(circuit, shots, seed?)</text>
  </g>

  <!-- Center: Provider panel -->
  <g transform="translate(326,36)">
    <rect x="0" y="0" width="308" height="148" rx="12" class="panel"/>
    <text x="16" y="30" class="txt title">Quantum Provider</text>
    <text x="16" y="56" class="txt">Queues, quotas, calibration, noise models</text>
    <text x="16" y="82" class="txt">Returns transcripts &amp; attestation</text>
    <text x="16" y="112" class="txt mono">backend: "gate" | "annealer"</text>
  </g>

  <!-- Gate-model QPU -->
  <g transform="translate(326,206)">
    <rect x="0" y="0" width="148" height="212" rx="12" class="node2"/>
    <text x="16" y="28" class="txt title">Gate QPU</text>
    <text x="16" y="52" class="muted">1–n qubits</text>

    <!-- Bloch sphere mini -->
    <g transform="translate(18,68)">
      <circle cx="56" cy="56" r="56" fill="none" stroke="#2A3353"/>
      <circle cx="56" cy="56" r="56" fill="url(#ring)" opacity="0.8"/>
      <!-- Axes -->
      <line x1="0" y1="56" x2="112" y2="56" stroke="#7B88A3" stroke-width="1"/>
      <line x1="56" y1="0"  x2="56"  y2="112" stroke="#7B88A3" stroke-width="1"/>
      <ellipse cx="56" cy="56" rx="50" ry="16" fill="none" stroke="#7B88A3" stroke-width="1" opacity="0.5"/>
      <!-- State vector -->
      <line x1="56" y1="56" x2="94" y2="22" stroke="#16D2FF" stroke-width="3"/>
      <circle cx="94" cy="22" r="3.5" fill="#16D2FF"/>
    </g>

    <text x="16" y="188" class="muted mono">gates: {h, cx, rz, x, measure}</text>
  </g>

  <!-- Annealer QPU -->
  <g transform="translate(486,206)">
    <rect x="0" y="0" width="148" height="212" rx="12" class="node2"/>
    <text x="16" y="28" class="txt title">Annealer QPU</text>
    <text x="16" y="52" class="muted">Ising/QUBO</text>

    <!-- Coupler graph sketch -->
    <g transform="translate(16,72)" stroke="#16D2FF" fill="none">
      <circle cx="20"  cy="20"  r="6"/><circle cx="60"  cy="16"  r="6"/><circle cx="100" cy="22"  r="6"/>
      <circle cx="28"  cy="60"  r="6"/><circle cx="72"  cy="64"  r="6"/><circle cx="48"  cy="96"  r="6"/>
      <line x1="20" y1="20" x2="60" y2="16"/><line x1="60" y1="16" x2="100" y2="22"/>
      <line x1="20" y1="20" x2="28" y2="60"/><line x1="28" y1="60" x2="72" y2="64"/>
      <line x1="72" y1="64" x2="48" y2="96"/><line x1="28" y1="60" x2="48" y2="96"/>
      <line x1="60" y1="16" x2="72" y2="64"/><line x1="100" y1="22" x2="72" y2="64"/>
    </g>

    <text x="16" y="188" class="muted mono">minimize: sᵀQs + hᵀs</text>
  </g>

  <!-- Right: Measurement & Verification -->
  <g transform="translate(658,190)">
    <rect x="0" y="0" width="266" height="108" rx="12" class="node"/>
    <text x="16" y="30" class="txt title">Measurement</text>
    <text x="16" y="54" class="txt">Shots → bitstrings / samples</text>
    <text x="16" y="78" class="muted mono">results: {"000":512,"011":488}</text>
  </g>

  <g transform="translate(658,324)">
    <rect x="0" y="0" width="266" height="132" rx="12" class="ok"/>
    <text x="16" y="30" class="txt title">Verification &amp; Proofs</text>
    <text x="16" y="56" class="txt">Transcripts, seeds, noise params</text>
    <text x="16" y="82" class="txt">Self-consistency / cross-check</text>
    <text x="16" y="108" class="muted mono">attest(hash(circuit|results))</text>
  </g>

  <!-- Connectors -->
  <path class="arrowb" d="M286,108 C306,108 316,88 326,88"/>        <!-- Submitter → Provider -->
  <path class="arrow"  d="M480,184 C480,196 480,200 480,206"/>        <!-- Provider → QPUs -->
  <path class="arrowb" d="M410,418 C470,418 658,234 658,234"/>        <!-- Gate → Measurement -->
  <path class="arrowb" d="M560,418 C620,418 658,234 658,234" class="dashed"/> <!-- Annealer → Measurement -->
  <path class="arrowb" d="M792,298 C792,306 792,314 792,324"/>        <!-- Measurement → Verify -->

  <!-- Bottom strip: notes -->
  <g transform="translate(36,484)">
    <rect x="0" y="0" width="888" height="40" rx="8" class="panel2"/>
    <text x="16" y="26" class="muted">Proof hints: circuit hash, backend id, calibration rev, RNG seed (if any), shot count, K-test p-values, cross-provider spot checks.</text>
  </g>

  <!-- Legend -->
  <g transform="translate(36,18)">
    <rect x="0" y="0" width="420" height="28" rx="8" class="panel2"/>
    <circle cx="16" cy="14" r="5" fill="#2E63FF"/><text x="28" y="18" class="muted">primary flow</text>
    <circle cx="110" cy="14" r="5" fill="#7B88A3"/><text x="122" y="18" class="muted">control</text>
    <rect   x="210" y="7" width="20" height="14" class="ok"/><text x="236" y="18" class="muted">attestation</text>
  </g>
</svg>

/* Animica Explorer — Light Theme
   Depends on: contrib/tokens/build/css/tokens.css (loaded first)
   This file sets Explorer-specific variables and base styles. */

:root {
  /* Surfaces & text */
  --exp-bg: var(--surface-1, #ffffff);
  --exp-surface: var(--surface-2, #f8fafc);
  --exp-surface-alt: var(--surface-3, #f1f5f9);
  --exp-border: var(--border-1, #e5e7eb);
  --exp-border-strong: var(--border-2, #cbd5e1);
  --exp-text: var(--text-1, #0f172a);
  --exp-text-muted: var(--text-2, #475569);

  /* Brand & accents */
  --exp-accent: var(--accent-animica, #5EEAD4);
  --exp-accent-contrast: #0b1220;

  /* Charts (light) */
  --exp-chart-bg: var(--surface-1, #ffffff);
  --exp-chart-grid: #e2e8f0;
  --exp-chart-axis: #94a3b8;

  /* Chart palette (kept in sync with contrib/explorer/charts/palette.json) */
  --exp-gamma-line: #5EEAD4;         /* Γ spark */
  --exp-gamma-glow: rgba(94,234,212,0.25);
  --exp-mempool: #60A5FA;
  --exp-da-ok: #22C55E;
  --exp-da-warn: #F59E0B;
  --exp-da-error: #EF4444;

  /* Layout tokens (fallbacks if not defined by global tokens) */
  --exp-radius-sm: var(--radius-sm, 8px);
  --exp-radius: var(--radius-md, 12px);
  --exp-radius-lg: var(--radius-lg, 16px);
  --exp-shadow-sm: var(--shadow-sm, 0 1px 2px rgba(0,0,0,0.04));
  --exp-shadow: var(--shadow-md, 0 6px 20px rgba(2,6,23,0.06));
  --exp-gap: var(--space-4, 16px);
  --exp-gap-lg: var(--space-6, 24px);
}

/* Base app shell */
.explorer-app {
  background: var(--exp-bg);
  color: var(--exp-text);
  min-height: 100vh;
  font-family: var(--font-sans, Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, Apple Color Emoji, Segoe UI Emoji);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.explorer-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: var(--exp-gap-lg);
}

/* Cards */
.exp-card {
  background: var(--exp-surface);
  border: 1px solid var(--exp-border);
  border-radius: var(--exp-radius);
  box-shadow: var(--exp-shadow-sm);
}

.exp-card.headered {
  padding: 0;
  overflow: hidden;
}
.exp-card__header {
  padding: 14px 16px;
  border-bottom: 1px solid var(--exp-border);
  background: var(--exp-surface-alt);
  color: var(--exp-text);
  font-weight: 600;
}
.exp-card__body {
  padding: 16px;
}

/* Tables */
.exp-table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
}
.exp-table th, .exp-table td {
  padding: 10px 12px;
  border-bottom: 1px solid var(--exp-border);
  text-align: left;
  white-space: nowrap;
}
.exp-table th {
  color: var(--exp-text-muted);
  font-weight: 600;
  background: var(--exp-surface-alt);
}

/* Badges & tags */
.exp-badge {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 6px 10px;
  background: var(--exp-surface-alt);
  border: 1px solid var(--exp-border);
  color: var(--exp-text);
  border-radius: 999px;
  font-size: 12px;
  line-height: 1;
}
.exp-badge.accent {
  background: color-mix(in srgb, var(--exp-accent) 12%, white);
  border-color: color-mix(in srgb, var(--exp-accent) 40%, white);
  color: var(--exp-accent-contrast);
}

/* Buttons (minimal) */
.exp-button {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 10px 14px;
  font-weight: 600;
  border-radius: var(--exp-radius-sm);
  border: 1px solid var(--exp-border);
  background: var(--exp-surface);
  color: var(--exp-text);
  box-shadow: var(--exp-shadow-sm);
  cursor: pointer;
}
.exp-button:hover { border-color: var(--exp-border-strong); }
.exp-button.accent {
  background: var(--exp-accent);
  color: var(--exp-accent-contrast);
  border-color: transparent;
  box-shadow: var(--exp-shadow);
}

/* Inputs */
.exp-input {
  width: 100%;
  padding: 10px 12px;
  background: #ffffff;
  color: var(--exp-text);
  border: 1px solid var(--exp-border);
  border-radius: var(--exp-radius-sm);
}
.exp-input:focus {
  outline: 2px solid color-mix(in srgb, var(--exp-accent) 45%, transparent);
  outline-offset: 1px;
  border-color: color-mix(in srgb, var(--exp-accent) 55%, var(--exp-border));
}

/* Chart scaffolding (generic classes; JS libs will apply inline styles)
   For Recharts/D3, set strokes/fills via variables or palette.json values. */
.exp-chart {
  background: var(--exp-chart-bg);
  border: 1px solid var(--exp-border);
  border-radius: var(--exp-radius);
  padding: 12px;
}
.exp-chart .grid line {
  stroke: var(--exp-chart-grid);
}
.exp-chart .axis line,
.exp-chart .axis path {
  stroke: var(--exp-chart-axis);
}
.exp-sparkline path.gamma {
  stroke: var(--exp-gamma-line);
  filter: drop-shadow(0 2px 8px var(--exp-gamma-glow));
  stroke-width: 2;
  fill: none;
}

/* Utilities */
.exp-muted { color: var(--exp-text-muted); }
.exp-sep { height: 1px; background: var(--exp-border); border: none; }
.exp-kpi {
  display: grid;
  grid-template-columns: repeat(4, minmax(0,1fr));
  gap: var(--exp-gap);
}
.exp-kpi .item {
  background: var(--exp-surface);
  border: 1px solid var(--exp-border);
  border-radius: var(--exp-radius);
  padding: 14px;
}

/* Responsive */
@media (max-width: 960px) {
  .explorer-container { padding: 16px; }
  .exp-kpi { grid-template-columns: repeat(2, minmax(0,1fr)); }
}
@media (max-width: 640px) {
  .exp-kpi { grid-template-columns: 1fr; }
}

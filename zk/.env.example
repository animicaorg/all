# ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
# ┃ zk/.env.example — toolchain locations & cache/config for zk workflows ┃
# ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
# Copy to zk/.env and adjust to your machine. These variables are used by:
# - Makefile targets (e.g., `make fetch-artifacts`, `make vk-refresh`)
# - Python tooling in zk/ (verifier adapters, artifact helpers)
# - Optional Node-based steps (snarkjs, witness generation)
#
# Tip: `set -a && . zk/.env && set +a` to export them into your shell.

########################
# Toolchain Locations  #
########################

# Circom compiler (v2.x recommended)
# Linux (typical):
CIRCOM_BIN=/usr/local/bin/circom
# macOS/Homebrew (Apple Silicon/Intel) — uncomment if applicable:
# CIRCOM_BIN=/opt/homebrew/bin/circom
# CIRCOM_BIN=/usr/local/bin/circom

# snarkjs CLI (Node-based)
SNARKJS_BIN=/usr/local/bin/snarkjs
# macOS/Homebrew alternative:
# SNARKJS_BIN=/opt/homebrew/bin/snarkjs

# Node & npm (used by snarkjs and wasm witness runners)
NODE_BIN=/usr/bin/node
NPM_BIN=/usr/bin/npm
# macOS/Homebrew alternatives:
# NODE_BIN=/opt/homebrew/bin/node
# NPM_BIN=/opt/homebrew/bin/npm

# Optional: path to c-kzg trusted setup (if you use KZG/PLONK flows via ckzg)
# Single JSON file (common in EIP-4844 tooling) or separate G1/G2 files.
# KZG_TRUSTED_SETUP=zk/setup/trusted_setup_kzg.json
# KZG_G1_PATH=zk/setup/trusted_setup_g1.txt
# KZG_G2_PATH=zk/setup/trusted_setup_g2.txt

########################################
# Project Layout & Caches (local paths) #
########################################

# Where circuit sources live (circom files, inputs)
ZK_CIRCUITS_DIR=zk/circuits

# Where intermediate build artifacts go (r1cs, wasm, zkey, vkey)
ZK_BUILD_DIR=zk/build

# Downloaded/derived long-lived artifacts (ptau, KZG params, proving keys)
ZK_ARTIFACT_CACHE=zk/.cache

# Canonical outputs (generated proofs, public signals)
ZK_PROOFS_DIR=zk/proofs

# Verifying keys / verification metadata (JSON)
ZK_VKEYS_DIR=zk/vkeys

# Logs & temp
ZK_LOG_DIR=zk/.logs
ZK_TMP_DIR=zk/.tmp

########################################
# Trusted Setup / Powers of Tau (ptau) #
########################################

# Location for ptau files
PTAU_DIR=zk/setup

# Power (2^N constraints upper bound). 17 ≈ 131k constraints, adjust as needed.
PTAU_POWERS=17

# Default ptau filename that Makefile/scripts expect
PTAU_FILE=\${PTAU_DIR}/powersOfTau28_hez_final_\${PTAU_POWERS}.ptau

###################################################
# Proving System Selection (affects build scripts) #
###################################################

# 'groth16' (bn128) via snarkjs is the most portable.
# 'plonk' (bn128, snarkjs) or 'plonk-kzg' (requires KZG params/tooling).
# For STARK-style flows, use separate scripts (not default in circom).
ZK_SYSTEM=groth16

# Curve used by the chosen system. For snarkjs:
# - groth16: bn128 (a.k.a. alt_bn128)
# - plonk:   bn128 (snarkjs)
# If using other toolchains, you may support bls12_381.
ZK_CURVE=bn128

######################################
# Witness Generation & Node Settings #
######################################

# Node memory for large circuits (MiB). 8192 = 8 GiB.
NODE_OPTIONS=--max-old-space-size=8192

# Parallelism for wasm witness runners (if supported by your runner)
WASM_THREADS=4

# Deterministic builds (disable non-deterministic optimizations if any)
ZK_DETERMINISTIC=1

################################
# Docker (optional convenience) #
################################

# If set to 1, scripts may prefer Dockerized circom/snarkjs runners.
ZK_USE_DOCKER=0
ZK_DOCKER_IMAGE=ghcr.io/iden3/circom:2.1.9
ZK_DOCKER_SNARKJS_IMAGE=node:20-bookworm

# Extra mounts (comma-separated host:container pairs) if you need them
# ZK_DOCKER_EXTRA_MOUNTS=/data/ptau:/ptau

#########################
# Verification Behavior #
#########################

# Fail builds if verification metadata is missing/mismatched.
ZK_VERIFY_STRICT=1

# When present, skip proof verification in quick local loops.
# ZK_SKIP_VERIFY=1

###############################
# Platform Notes (uncomment)  #
###############################
# Windows (Git Bash/WSL):
# CIRCOM_BIN=/mnt/c/Users/<you>/.cargo/bin/circom.exe
# SNARKJS_BIN=/mnt/c/Users/<you>/AppData/Roaming/npm/snarkjs.cmd
# NODE_BIN=/mnt/c/Program\ Files/nodejs/node.exe
# NPM_BIN=/mnt/c/Program\ Files/nodejs/npm.cmd

# CI defaults (headless runners)
# NODE_OPTIONS=--max-old-space-size=4096
# WASM_THREADS=2
# ZK_USE_DOCKER=1

# End of file

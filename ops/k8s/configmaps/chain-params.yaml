apiVersion: v1
kind: ConfigMap
metadata:
  name: chain-params
  namespace: animica-devnet
  labels:
    app.kubernetes.io/part-of: animica
    animica.dev/environment: devnet
data:
  # Both styles provided for convenience when wiring Deployments:
  chainId: "1337"
  CHAIN_ID: "1337"

  # Mount this as /config/spec/params.yaml (or similar).
  params.yaml: |
    version: 1
    chain:
      chain_id: 1337
      name: animica-devnet
      block_target_seconds: 10
      max_block_gas: 10000000        # 10M
      max_block_bytes: 1048576       # 1 MiB
    economics:
      base_reward: 0
      treasury_ratio: 0.10
      fee_burn_ratio: 0.50
    mempool:
      min_gas_price: 1
      max_txs: 50000
      ttl_seconds: 600
    pq:
      signatures:
        enabled: [dilithium3, sphincs_shake_128s]
      kem:
        default: kyber768
    consensus:
      theta:
        # Target acceptance threshold Î˜ in micro-nats (illustrative devnet value)
        target_micro_nats: 1000000
        min_micro_nats: 200000
        max_micro_nats: 5000000
      retarget:
        ema_halflife_blocks: 20
        clamp_fraction: 0.25
      fairness:
        alpha_tuner:
          drift_max_ppm: 5000
    randomness:
      # Commit/Reveal/Settle windows partition the round (no overlap)
      commit_phase_seconds: 15
      reveal_phase_seconds: 15
      settle_phase_seconds: 10
      round_seconds: 40
      vdf:
        security_bits: 128
        discriminant_size_bits: 2048
        target_seconds: 20
        iterations: 100000
        seconds_per_iter: 0.0002   # 100000 * 0.0002 = 20s (<= round=40s)
    da:
      nmt:
        max_blob_bytes: 1048576
        shard_bytes: 1024
      reed_solomon:
        k: 32
        n: 64
    vm:
      gas_table: opcodes_vm_py.yaml
      strict_mode: true

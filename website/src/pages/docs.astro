---
import BaseLayout from "../layouts/BaseLayout.astro";
import InlineLink from "../components/InlineLink.astro";

const pageTitle = "Docs — Animica";
const pageDesc =
  "Developer documentation for Animica: concepts, specs, SDKs, and tutorials. You will be redirected to the /docs/ section.";
const redirectTo = "/docs/";
---

<!--
  We keep this as a splash/bridge page so direct links to /docs land here,
  then we immediately redirect to the /docs/ area (Astro content collection, MDX, etc.).
  JS redirect is used to avoid coupling to a specific Astro redirect API version.
-->

<BaseLayout title={pageTitle} description={pageDesc}>
  <section class="mx-auto max-w-2xl px-4 sm:px-6 lg:px-8 py-12 sm:py-16 text-center">
    <h1 class="text-3xl sm:text-4xl font-semibold tracking-tight">Documentation</h1>
    <p class="mt-3 opacity-80">
      Redirecting you to the docs portal…
    </p>

    <div class="mt-6">
      <a
        href={redirectTo}
        class="inline-flex items-center gap-2 rounded-lg px-4 py-2 font-medium
               bg-[var(--btn-primary-bg,#111)] text-[var(--btn-primary-fg,#fff)]
               hover:opacity-90 focus:outline-none focus-visible:ring-2
               focus-visible:ring-offset-2 focus-visible:ring-[color-mix(in_srgb,var(--text-primary,_#000)_/_30%,transparent)]">
        Open Docs
        <svg viewBox="0 0 20 20" class="size-4" fill="currentColor" aria-hidden="true">
          <path d="M11 3a1 1 0 100 2h2.586L8.293 10.293a1 1 0 001.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"/>
          <path d="M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"/>
        </svg>
      </a>
      <p class="mt-2 text-sm opacity-70">
        If you are not redirected automatically, use the button above or this link:
        <InlineLink href={redirectTo} underline>{redirectTo}</InlineLink>
      </p>
    </div>

    <noscript>
      <p class="mt-6 text-sm opacity-80">
        JavaScript is disabled. Please follow the link to <a href={redirectTo}>/docs/</a>.
      </p>
    </noscript>
  </section>

  <script is:inline>
    // Preserve query & hash when redirecting (useful for deep links/search).
    (function () {
      try {
        var target = { pathname: {toString: () => ""} } ? "{redirectTo}" : "/docs/";
      } catch (e) {}
      var base = "{redirectTo}";
      var search = typeof window !== 'undefined' ? window.location.search : "";
      var hash = typeof window !== 'undefined' ? window.location.hash : "";
      if (typeof window !== 'undefined') {
        // Use replace() to avoid polluting history.
        window.location.replace(base + search + hash);
      }
    })();
  </script>
</BaseLayout>

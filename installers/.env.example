# Animica Installers â€” Environment Example
# Copy to installers/.env and fill in as appropriate for your org.
# These variables are consumed by CI workflows and packaging scripts.

# ------------------------------------------------------------------------------
# Release Channels
#   Options: nightly | alpha | beta | stable
# ------------------------------------------------------------------------------
CHANNEL=nightly

# Canonical version override (optional). If empty, CI will use `git describe`.
VERSION_OVERRIDE=

# ------------------------------------------------------------------------------
# Public Feeds / Download Endpoints
#   Used by website, auto-updaters, and release notes generators.
# ------------------------------------------------------------------------------
# Base site for release JSON / artifacts index
RELEASE_FEED_BASE=https://downloads.animica.org
# Per-channel feeds (JSON indices)
RELEASE_FEED_NIGHTLY=${RELEASE_FEED_BASE}/feeds/nightly.json
RELEASE_FEED_ALPHA=${RELEASE_FEED_BASE}/feeds/alpha.json
RELEASE_FEED_BETA=${RELEASE_FEED_BASE}/feeds/beta.json
RELEASE_FEED_STABLE=${RELEASE_FEED_BASE}/feeds/stable.json

# Direct artifact base (tar/zip/deb/rpm/msi/pkg)
ARTIFACT_CDN_BASE=https://cdn.animica.org/artifacts

# Container registry (multi-arch images)
CONTAINER_REGISTRY=ghcr.io/animica
CONTAINER_IMAGE_NODE=${CONTAINER_REGISTRY}/animicad
CONTAINER_IMAGE_SERVICES=${CONTAINER_REGISTRY}/studio-services
CONTAINER_IMAGE_MINER=${CONTAINER_REGISTRY}/animica-miner

# ------------------------------------------------------------------------------
# Sigstore / Cosign (attestations & signatures)
#   CI prefers keyless OIDC. Set COSIGN_SIGN=1 to force signing of blobs too.
# ------------------------------------------------------------------------------
COSIGN_SIGN=0
COSIGN_KEY=               # optional (PEM path or KMS URI), leave empty for keyless
COSIGN_ARGS=--yes         # extra args (e.g., --timestamp-server URL)

# ------------------------------------------------------------------------------
# macOS Codesigning & Notarization
#   Uses App Store Connect API key; CI stores these as Actions secrets.
# ------------------------------------------------------------------------------
APPLE_TEAM_ID=ABCDE12345
APPLE_API_KEY_ID=ABCD123456
APPLE_API_KEY=base64-contents-of-AuthKey.p8-or-secret-ref
APPLE_API_ISSUER=00000000-1111-2222-3333-444444444444

# Bundle IDs
MACOS_BUNDLE_ID_INSTALLER=com.animica.pkg
MACOS_BUNDLE_ID_APP_NODE=com.animica.node
MACOS_BUNDLE_ID_APP_MINER=com.animica.miner
MACOS_BUNDLE_ID_APP_SERVICES=com.animica.studio-services

# Notarization options
MACOS_NOTARIZE=1
MACOS_STAPLE=1

# ------------------------------------------------------------------------------
# Windows Authenticode (EV) via provider (SignPath / Azure Key Vault / CodeSignService)
#   Choose one strategy and set the corresponding fields.
# ------------------------------------------------------------------------------
WIN_SIGNING_PROVIDER=signpath     # signpath | azurekv | disabled
WIN_CERT_ORG=Animica Labs
WIN_CERT_SUBJECT=CN=Animica Labs, O=Animica Labs, L=City, C=US

# SignPath
SIGNPATH_ORG=animica
SIGNPATH_PROJECT=animica
SIGNPATH_PROFILE=Production
SIGNPATH_API_TOKEN=gh-secret:SIGNSVC_TOKEN   # refer to GitHub secret name

# Azure Key Vault (if using azuresigntool)
AZURE_KV_NAME=
AZURE_KV_CERT_NAME=
AZURE_TENANT_ID=
AZURE_CLIENT_ID=
AZURE_CLIENT_SECRET=gh-secret:AZURE_CLIENT_SECRET

# Timestamping
TIMESTAMP_SERVER_URL=http://timestamp.digicert.com

# ------------------------------------------------------------------------------
# Linux Repository Publishing (APT/YUM)
# ------------------------------------------------------------------------------
APT_REPO_URL=https://repo.animica.org/apt
APT_REPO_DIST=bookworm
APT_REPO_COMPONENT=main
RPM_REPO_URL=https://repo.animica.org/yum
RPM_REPO_DIST=rhel9
REPO_GPG_KEY_ID=0xDEADBEEFCAFEBABE
REPO_GPG_KEY_SECRET=gh-secret:REPO_GPG_KEY   # armored key (if CI signs repo metadata)

# ------------------------------------------------------------------------------
# Wallet Extension Store IDs (optional; for docs/build labeling only)
# ------------------------------------------------------------------------------
CHROME_WEBSTORE_EXTENSION_ID=aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
AMO_ADDON_ID=wallet@animica.org

# ------------------------------------------------------------------------------
# Explorer / Studio endpoints (used by installers & config templates)
# ------------------------------------------------------------------------------
DEFAULT_RPC_URL=https://rpc.animica.org
DEFAULT_CHAIN_ID=1
SERVICES_BASE_URL=https://services.animica.org

# ------------------------------------------------------------------------------
# Python Wheels (animica-zk-native) publishing (optional)
# ------------------------------------------------------------------------------
PYPI_REPOSITORY_URL=https://upload.pypi.org/legacy/
PYPI_USERNAME=__token__
PYPI_TOKEN=gh-secret:PYPI_API_TOKEN

# ------------------------------------------------------------------------------
# Misc build flags
# ------------------------------------------------------------------------------
# Controls optional native accelerator usage during test/bench packaging runs
ZK_DISABLE_NATIVE=0
# Use manylinux policy when building wheels (off|2014|2_28)
MATURIN_MANYLINUX=off
